
{% extends 'visualize/base.html' %}
{% load static %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/u/bs-3.3.6/jqc-1.12.3,dt-1.10.12/datatables.min.css"/>

<script type="text/javascript" src="https://cdn.datatables.net/u/bs-3.3.6/jqc-1.12.3,dt-1.10.12/datatables.min.js"></script>

{% block content %}




<div class="container-fluid-full">

<div  class="span12">

<div class="row-fluid">

  <div id="1033" class="span3 statbox purple" onTablet="span6" onDesktop="span3">
    <div><h1>1033 Total</h1></div>
    <div><h1>{{ ten_thirty_three_total }}</h1></div>
  </div>
  <div id="fatal_encounters" class="span3 statbox green" onTablet="span6" onDesktop="span3">
    <div><h1>2015 Killings</h1></div>
    <div><h1>{{ state_num }}</h1></div>
  </div>
  <div id="population" class="span3 statbox blue noMargin" onTablet="span6" onDesktop="span3">
    <div><h1>State Population</h1></div>
    <div><h1>{{ twenty_fifteen_population }}</h1></div>
  </div>
  <div id="crime" class="span3 statbox yellow" onTablet="span6" onDesktop="span3">
    <div><h1>Violent Crime</h1></div>
    <div><h1>{{ twenty_fourteen_violent }}</h1></div>
    <div><h1>Property Crime</h1></div>
    <div><h1>{{ twenty_fourteen_property }}</h1></div>
  </div>

</div>

<div class="row-fluid">

  <div id="stats-chart-2"  class="span8 widget green" onTablet="span8" onDesktop="span8">
    <div id="chart2"  style="height:200px" >  </div>
  </div>
  <div id="stats-chart-2"  class="span4 widget purple" onTablet="span8" onDesktop="span8">
      <div id="chart7"  style="height:200px">
      <svg></svg>
    </div>
    </div>
</div>

  <div class="row-fluid">
    <div id="stats-chart-2"  class="span5 widget green" onTablet="span8" onDesktop="span8">
      <div id="chart6"  style="height:200px" >
        <svg></svg>
      </div>
    </div>
  	<div id="stats-chart-2"  class="span7 widget orange" onTablet="span8" onDesktop="span8">
      <div class="content">
        <div id="chart3" style="height:200px">
          <svg></svg>
        </div>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div id="stats-chart-2"  class="span8 widget green" onTablet="span8" onDesktop="span8">
      <div id="chart4"  style="height:250px" ></div>
    </div>


  </div>

  <div class="row-fluid">
    <div id="stats-chart-2"  class="span8 widget green" onTablet="span8" onDesktop="span8">
      <div id="chart5"  style="height:200px" >
        <svg></svg>
      </div>
    </div>

    <div class="row-fluid sortable">
    				<div class="box span12">
    					<div class="box-header" data-original-title>
    						<h2><i class="halflings-icon white user"></i><span class="break"></span>Counties</h2>
    						<div class="box-icon">
    							<a href="#" class="btn-setting"><i class="halflings-icon white wrench"></i></a>
    							<a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
    							<a href="#" class="btn-close"><i class="halflings-icon white remove"></i></a>
    						</div>
    					</div>
    					<div class="box-content">
    						<table class="table table-striped table-bordered bootstrap-datatable datatable">
    						  <thead>
    							  <tr>
    								  <th>County</th>
    								  <th>Date registered</th>
    								  <th>Role</th>
    								  <th>Status</th>
    								  <th>Actions</th>
    							  </tr>
    						  </thead>
    						  <tbody>
                    {% for county in counties_list %}
    							<tr>
    								<td class="center"><a href='/../county/{{county.id}}' >{{county}}</a></td>
    								<td class="center">2012/01/01</td>
    								<td class="center">Member</td>
    								<td class="center">
    									<span class="label label-success">Active</span>
    								</td>
    								<td class="center">
    									<a class="btn btn-success" href="#">
    										<i class="halflings-icon white zoom-in"></i>
    									</a>
    									<a class="btn btn-info" href="#">
    										<i class="halflings-icon white edit"></i>
    									</a>
    									<a class="btn btn-danger" href="#">
    										<i class="halflings-icon white trash"></i>
    									</a>
                      {% endfor %}
    								</td>

    							</tr>
                </div>
              </div>
            </div>
          </div>
  </div>

</div>


  <script >
  var data; // a global
  var categories = ["ATV", "Aircraft", "Assault/Tactical Vehicle", "Boat", "Bomb-Disposal Robot", "Helicopter", "Machete/Bayonnet/Knife", "Mine Resistant Vehicle", "Pistol", "Shotgun"]
  var categoryNums = Array.apply(null, Array(categories.length)).map(function (_, i) {return i;});
  d3.json("{% url 'state_json' state %}", function(error, json) {
    if (error) return console.warn(error);
    data = json;
    drawCategories(data)
    drawLineDollars(data)
    drawPerCapitaCategories(data)
    drawPerCapitaAssaultRifles(data)

  });

  $('#1033')
    .css('cursor', 'pointer')
    .click(
        d3.json("{% url 'state_json' state %}", function(error, json) {
          if (error) return console.warn(error);
          data = json;
          drawCategories(data)
          drawLineDollars(data)
          drawPerCapitaCategories(data)
          drawPerCapitaAssaultRifles(data)

        }))
  $('#fatal_encounters')
    .css('cursor', 'pointer')
    .click(
        d3.json("{% url 'state_json' state %}", function(error, json) {
          if (error) return console.warn(error);
          data = json;
          drawLineDeaths(data)

        })
  );
  $('#population')
    .css('cursor', 'pointer')
    .click(
        function(){
            alert('Population!');
        }
  );
  $('#crime')
    .css('cursor', 'pointer')
    .click(
        d3.json("{% url 'state_json' state %}", function(error, json) {
          if (error) return console.warn(error);
          data = json;
          drawCrimeCategories(data)

        })
  );
  </script>



{% endblock %}
