
{% extends 'visualize/base.html' %}
{% load static %}

<script src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>


{% block content %}

<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css"/>

<div class="container-fluid-full">

<div  class="span12">

<div class="row-fluid">

  <div id="1033" class="span3 statbox purple" onTablet="span6" onDesktop="span3">
    <div><h1>1033 Total</h1></div>
    <div><h1>{{ ten_thirty_three_total }}</h1></div>
  </div>
  <div id="fatal_encounters" class="span3 statbox green" onTablet="span6" onDesktop="span3">
    <div><h1>2015 Killings</h1></div>
    <div><h1>{{ state_num }}</h1></div>
  </div>
  <div id="population" class="span3 statbox blue noMargin" onTablet="span6" onDesktop="span3">
    <div><h1>State Population</h1></div>
    <div><h1>{{ twenty_fifteen_population }}</h1></div>
  </div>
  <div id="crime" class="span3 statbox yellow" onTablet="span6" onDesktop="span3">
    <div><h1>Violent Crime</h1></div>
    <div><h1>{{ twenty_fourteen_violent }}</h1></div>
    <div><h1>Property Crime</h1></div>
    <div><h1>{{ twenty_fourteen_property }}</h1></div>
  </div>

</div>

<div class="row-fluid">

  <div id="stats-chart-2"  class="span8 widget green" onTablet="span8" onDesktop="span8">
    <div id="chart2"  style="height:200px" >  </div>
  </div>
  <div id="stats-chart-2"  class="span4 widget purple" onTablet="span8" onDesktop="span8">
      <div id="chart7"  style="height:200px">
      <svg></svg>
    </div>
    </div>
</div>

  <div class="row-fluid">
    <div id="stats-chart-2"  class="span5 widget green" onTablet="span8" onDesktop="span8">
      <div id="chart6"  style="height:200px" >
        <svg></svg>
      </div>
    </div>
  	<div id="stats-chart-2"  class="span7 widget orange" onTablet="span8" onDesktop="span8">
      <div class="content">
        <div id="chart3" style="height:200px">
          <svg></svg>
        </div>
      </div>
    </div>
  </div>

  <div class="row-fluid">
    <div id="stats-chart-2"  class="span8 widget green" onTablet="span8" onDesktop="span8">
      <div id="chart4"  style="height:250px" ></div>
    </div>


  </div>
  <script>


  $(document).ready(function() {
      $('#example').DataTable( {
          "dom": '<"toolbar">frtip'
      } );

      $("div.toolbar").html('<b>Custom tool bar! Text/images etc.</b>');
  } );
</script>
<table id="example" class="display" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>County</th>
                <th>Population</th>
                <th>Military Items Value</th>
                <th>Fatal Encounters</th>
                <th>2014 Violent Crime</th>
                <th>2014 Property Crime</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
              <th>County</th>
              <th>Population</th>
              <th>Military Items Value</th>
              <th>Fatal Encounters</th>
              <th>2014 Violent Crime</th>
              <th>2014 Property Crime</th>
            </tr>
        </tfoot>
        <tbody>
              {% for county in counties_list %}
            <tr>
                <td ><a href='/../county/{{county.id}}' >{{county}}</a></td>
                <td>Tiger Nixon</td>
                <td>System Architect</td>
                <td>Edinburgh</td>
                <td>61</td>
                <td>2011/04/25</td>

            </tr>
              {% endfor %}

        </tbody>
    </table>

</div>


  <script >
  d3.json("{% url 'state_json' state %}", function(error, json) {
    if (error) return console.warn(error);
    data = json;
    drawCategories(data)
    drawLineDollars(data)
    drawPerCapitaCategories(data)
    drawPerCapitaAssaultRifles(data)

  });

  $('#1033')
    .css('cursor', 'pointer')
    .click(function() {
        drawMilitary()
    })
  $('#fatal_encounters')
    .css('cursor', 'pointer')
    .click(function() {
        d3.json("{% url 'state_json' state %}", function(error, json) {
          if (error) return console.warn(error);
          data = json;
          drawLineDeaths(data)

        })
  });
  $('#population')
    .css('cursor', 'pointer')
    .click(
        function(){
            alert('Population!');
        }
  );
  $('#crime')
    .css('cursor', 'pointer')
    .click(function() {
        d3.json("{% url 'state_json' state %}", function(error, json) {
          if (error) return console.warn(error);
          data = json;
          drawCrimeCategories(data)

        })

  });
  function drawMilitary(){
      d3.json("{% url 'state_json' state %}", function(error, json) {
        if (error) return console.warn(error);
        data = json;
        drawCategories(data)
        drawLineDollars(data)
        drawPerCapitaCategories(data)
        drawPerCapitaAssaultRifles(data)

      })
  }
  </script>



{% endblock %}
